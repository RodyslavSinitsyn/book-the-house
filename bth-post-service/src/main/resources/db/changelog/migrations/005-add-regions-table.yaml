databaseChangeLog:
  - changeSet:
      id: 5
      author: rsinitsyn
      comment: Creates 'regions' table
      labels: geo
      runAlways: false
      runOnChange: false
      preConditions:
        - onFail: HALT
          not:
            tableExists:
              tableName: regions
      rollback:
        - dropTable:
            tableName: regions
        - dropSequence:
            sequenceName: regions_id_seq
      changes:
        - sql:
            'CREATE TABLE public.regions
             (
                 id           bigint                                                NOT NULL,
                 name         character varying(100)                                NOT NULL,
                 translations text,
                 created_at   timestamp without time zone,
                 updated_at   timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
                 flag         smallint                    DEFAULT 1                 NOT NULL,
                 wiki_data_id   character varying(255)
             );
             ALTER TABLE public.regions
                 ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
                     SEQUENCE NAME public.regions_id_seq
                     START WITH 1
                     INCREMENT BY 1
                     NO MINVALUE
                     NO MAXVALUE
                     CACHE 1
                     );
             ALTER TABLE ONLY public.regions
                 ADD CONSTRAINT regions_pkey PRIMARY KEY (id);'



